<div ng-controller="PageCtrl">
    <ui-page-header title="viewModel.title"
                    breadcrumbs="[{'text': viewModel.title}]"></ui-page-header>

    <ui-page-content>
        <ui-page-content-header-right>
            <button type="button" class="btn btn-sm btn-primary" ng-click="save()"
                    ng-bind="'common.saveChanges'|translate"></button>
        </ui-page-content-header-right>

        <div class="form-group">
            <ui-html-editor ng-model="viewModel.content"></ui-html-editor>
        </div>

        <div class="form-group">
            <div>
                <label ng-bind="'common.attachments'|translate"></label>
            </div>
            <div class="tag tag-inline" ng-repeat="item in viewModel.attachments">
                <a href="/files/{{item.uuid}}" target="_blank">
                    <span ng-bind="item.name"></span>.<span ng-bind="item.extName"></span>
                </a>
                <a class="text-danger" ng-click="removeAttachment(item)">
                    <i class="glyphicon glyphicon-trash"></i>
                </a>
            </div>
        </div>

        <div class="form-group">
            <ui-upload multiple label="common.attachments" url="/api/cms/pages/upload?boId={{viewModel.id}}" on-item-success="uploaded(result)"></ui-upload>
        </div>
    </ui-page-content>
</div>