<div ng-controller="RolesCtrl">
    <ui-page-header title="'admin.modules.core.roles.title'"
                    subtitle="'admin.modules.core.roles.subtitle'"
                    breadcrumbs="[{'text': 'admin.modules.core.roles.title'}]"></ui-page-header>
    <section class="content">
        <div class="box box-default with-header with-footer">
            <div class="box-header with-border">
                <div class="pull-left">
                    <ui-search ng-model="searchKeywords" on-cancel="cancelSearch()" on-search="search()"></ui-search>
                </div>

                <div class="box-tools pull-right">
                    <a class="btn btn-sm btn-primary" href="/sso/signup" target="_blank" ng-bind="'admin.modules.core.roles.addRole'|translate"></a>
                </div>
            </div>
            <div class="box-body">
                <table class="table table-striped table-hover">
                    <thead>
                    <tr>
                        <th class="col-icon"></th>
                        <th ng-bind="'admin.modules.core.roles.fieldRoleName'|translate"></th>
                        <th ng-bind="'admin.modules.core.roles.fieldUsers'|translate"></th>
                        <th ng-bind="'admin.modules.core.fieldDescription'|translate"></th>
                        <th ng-bind="'admin.modules.core.roles.fieldCreatedAt'|translate"></th>
                        <th ng-bind="'admin.modules.core.roles.fieldLastUpdate'|translate"></th>
                        <th class="text-center" ng-bind="'common.delete'|translate"></th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="item in data">
                        <td>
                            <span class="fa"></span>
                        </td>
                        <td ng-bind="item.name"></td>
                        <td>
                            <a ng-click="editUsers(item)">
                                <span ng-repeat="user in item.users">
                                    <span class="label label-info" ng-bind="user.name"></span>&nbsp;
                                </span>
                                <em ng-if="item.users && item.users.length == 0" ng-bind="'admin.modules.core.roles.noUsers'|translate"></em>
                            </a>
                            <!--<span ng-if="item.superAdmin">-->
                                <!--<span ng-repeat="role in item.roles">-->
                                    <!--<span class="label label-info" ng-bind="role.name"></span>&nbsp;-->
                                <!--</span>-->
                            <!--</span>-->
                        </td>
                        <td>
                            <span ng-bind="item.description"></span>
                        </td>
                        <td ng-bind="item.createDate | date: 'yyyy-MM-dd HH:mm'"></td>
                        <td ng-bind="item.lastUpdate | date: 'yyyy-MM-dd HH:mm'"></td>

                        <td class="text-center">
                            <a ng-click="remove(item)">
                                <i class="glyphicon glyphicon-trash text-danger"></i>
                            </a>
                        </td>
                        <!--<td class="text-center" colspan="2" ng-if="item.superAdmin">-->
                            <!--{{'admin.modules.core.roles.disableEditForSuperAdmin'|translate}}-->
                        <!--</td>-->
                    </tr>
                    </tbody>
                </table>
                <ui-no-data ng-if="data.length==0"></ui-no-data>
            </div>
            <div class="box-footer">
                <bn-ui-pager ng-model="pager" on-page="pageRoles(page)"></bn-ui-pager>
            </div>
        </div>
    </section>

    <!--<div id="usersForm" class="modal fade" tabindex="-1" role="dialog">-->
        <!--<div class="modal-dialog" role="document">-->
            <!--<div class="modal-content">-->
                <!--<div class="modal-header">-->
                    <!--<button type="button" class="close" data-dismiss="modal"-->
                            <!--aria-label="Close">-->
                        <!--<span aria-hidden="true">&times;</span>-->
                    <!--</button>-->
                    <!--<h4 class="modal-title">-->
                        <!--<span ng-bind-html="'admin.modules.core.roles.usersForRole'|translate:[roleModel.name]"></span>-->
                    <!--</h4>-->
                <!--</div>-->
                <!--<div class="modal-body">-->
                    <!--<div class="list-group">-->
                        <!--<a class="list-group-item"-->
                           <!--ng-click="toggleUser(item)"-->
                           <!--ng-repeat="item in users">-->
                            <!--<h4 class="list-group-item-heading">-->
                                <!--{{ item.name }}-->
                                <!--<i class="fa fa-check fa-2x ng-cloak text-success pull-right"-->
                                   <!--ng-if="roleHasUser(item)"></i>-->
                            <!--</h4>-->
                            <!--<p class="list-group-item-text">{{ item.description }}</p>-->
                        <!--</a>-->
                    <!--</div>-->
                <!--</div>-->
                <!--<div class="modal-footer">-->
                    <!--<button type="button" class="btn btn-default" data-dismiss="modal" ng-bind="'common.close'|translate"></button>-->
                    <!--<button type="button" class="btn btn-primary"-->
                            <!--ng-bind="'common.saveChanges'|translate"-->
                            <!--ng-click="saveUsers()"></button>-->
                <!--</div>-->
            <!--</div>-->
        <!--</div>-->
    <!--</div>-->
</div>